{% extends 'base.html' %}
{% load static %}

{% block head_title %}ë°˜ê²©í•˜ê¸° | Piro Card Game{% endblock %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/start_game.css' %}">
<style>
  .align-left {
    text-align: left;
    width: 100%;
    color: var(--orange);
    margin-bottom: 10px;
  }
</style>
{% endblock %}

{% block content %}
<div class="start-game-container-kds">
  <div class="start-game-box-kds">
    {% if game.defender_card %}
      <h2 class="start-game-title-kds">{{ game.attacker.username }} VS {{ game.defender.username }}</h2>
      <hr style="width: 100%; border: 1px solid var(--orange); margin-bottom: 20px;">

      <p class="align-left">ìˆ«ìê°€ ì‘ì€ ì‚¬ëŒì´ ì´ê¹ë‹ˆë‹¤.</p>
      <p class="align-left">{{ game.attacker.username }}: {{ game.attacker_card }}</p>
      <p class="align-left">{{ game.defender.username }}: {{ game.defender_card }}</p>
      <p class="align-left">
        ê²°ê³¼:
        {% if game.attacker_card == game.defender_card %}
          ğŸ‘‘ ë¬´ìŠ¹ë¶€ ğŸ‘‘
        {% elif game.winner == game.defender %}
          ğŸ‘‘ ìŠ¹ë¦¬ ğŸ‘‘
        {% else %}
          íŒ¨ë°°
        {% endif %}
      </p>
      <p class="align-left">ì ìˆ˜ {{ game.defender_score_change }}</p>

      <a href="{% url 'game_list' %}">
        <button class="attack-btn-kds" style="margin-top: 30px;">ì „ì²´ ëª©ë¡</button>
      </a>
      
    {% else %}
      <h2 class="start-game-title-kds">ë°˜ê²©í•  ì¹´ë“œ:</h2>
      <form method="post">
        {% csrf_token %}
        <div class="card-list-kds">
          {% for card in card_choices %}
            <label class="card-radio-kds">
              <input type="radio" name="selected_card" value="{{ card }}" required>
              <span>{{ card }}</span>
            </label>
          {% endfor %}
        </div>
        <button type="submit" class="attack-btn-kds" style="margin-top: 20px;">Counter Attack</button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}
